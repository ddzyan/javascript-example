## 简介

参考文章：

- https://juejin.im/post/5c199c0ae51d452f6028a072
- https://blog.csdn.net/qq_31001889/article/details/80321892

js 运行特点为单线程，如果没有异步编程，则线程将要卡死。js 异步编程实现方法有：

1. 回调函数
2. 事件驱动
3. Promise 对象
4. async 和 await

主要原理都是解决：js 主线程先执行主要逻辑代码，遇到 I/O ,计时器等耗时事件，则将事件推到事件循环中。在事件循环中遍历到事件状态完成后要如何通知主线程继续执行。![image](http://www.runoob.com/wp-content/uploads/2015/09/event_loop.jpg)

### 回调函数

回调函数是 js 异步编程最基础的方法，开发者可以通过回调函数，在事件完成后执行指定的代码。

优点：

1. 实现方法简单
2. 容易理解原理

缺点：

1. 代码耦合度高，容易造成回调地狱
2. 流程混乱不易阅读和理解

### 事件驱动

采用事件驱动模式，方法的执行顺序不取决于代码的顺序，而取决于某一个事件是否发生。通过消息发送和监听，采用事件驱动继续完成异步代码。nodejs 的核心就是采用了 V8 引擎实现了事件驱动，异步非堵塞 IO 架构，才在总舵后端 js 技术中脱颖而出。

测试代码 eventEmitter.js 实现发布/订阅模式

优点：

- 代码耦合度低

缺点：

- 流程不容易理解
- 代码书写比较混乱

### Promise 对象

Promise 为 es6 中新的语法，它的原理是将每个异步任务封装后返回一个 Promise 对象，该对象内有 then 方法，允许在状态成功后执行指定回调函数。还有 catch 方法允许在状态失败后执行指定回调函数。

Promise 可以理解为一个状态机，内部管理异步事件的状态。通过 resolve(成功),reject(失败)回调函数，管理这事件的状态完成后执行的方法。

优点：

- 链式调用，流程容易理解
- 代码耦合度较低

缺点

- 语法比较复杂

### async 和 await
